if(!customElements.get("search-form")){class SearchForm extends HTMLElement{constructor(){super(),this.input=this.querySelector(".js-search-input"),this.resetBtn=this.querySelector(".js-search-reset"),this.addListeners(),this.init()}addListeners(){this.input.addEventListener("input",debounce(this.handleInput.bind(this))),this.resetBtn.addEventListener("click",this.handleReset.bind(this))}init(){(this.input.dataset.placeholderTwo||this.input.dataset.placeholderThree)&&(this.input.dataset.placeholderPromptsMob==="true"||theme.mediaMatches.md)&&this.typeInPlaceholders()}typeInPlaceholders(){const typingSpeed=this.input.dataset.typingSpeed||100,deletingSpeed=this.input.dataset.deletingSpeed||60,delayAfterDeleting=this.input.dataset.delayAfterDeleting||500,delayBeforeFirstDelete=this.input.dataset.delayBeforeFirstDelete||2e3,delayAfterWordTyped=this.input.dataset.delayAfterWordTyped||2400,placeholders=[];this.input.placeholder&&placeholders.push(this.input.placeholder),this.input.dataset.placeholderTwo&&placeholders.push(this.input.dataset.placeholderTwo),this.input.dataset.placeholderThree&&placeholders.push(this.input.dataset.placeholderThree);const typeInNextPlaceholder=async placeholder=>{await new Promise(resolve=>{let currentPlaceholder=this.input.getAttribute("placeholder"),nextPlaceholder=currentPlaceholder.length>=3&&placeholder.startsWith(currentPlaceholder)?placeholder.replace(currentPlaceholder,""):placeholder;const typingIntervalId=setInterval(()=>{currentPlaceholder=this.input.getAttribute("placeholder"),this.input.setAttribute("placeholder",currentPlaceholder+nextPlaceholder.charAt(0)),nextPlaceholder.length===1?(resolve(),clearInterval(typingIntervalId)):nextPlaceholder=nextPlaceholder.substring(1)},typingSpeed)})},deleteCurrentPlaceholder=async nextPlaceholder=>{await new Promise(resolve=>{let prevPlaceholder=this.input.getAttribute("placeholder");const deletionIntervalId=setInterval(()=>{const newPlaceholder=prevPlaceholder.substring(0,prevPlaceholder.length-1);this.input.setAttribute("placeholder",newPlaceholder),prevPlaceholder=newPlaceholder,(prevPlaceholder.length===0||prevPlaceholder.length>=3&&nextPlaceholder.startsWith(prevPlaceholder))&&(resolve(),clearInterval(deletionIntervalId))},deletingSpeed)})};let startIndex=0;const showNextPlaceholder=()=>{startIndex=(startIndex+1)%placeholders.length;const nextPlaceholder=placeholders[startIndex];deleteCurrentPlaceholder.call(this,nextPlaceholder).then(()=>{setTimeout(()=>{typeInNextPlaceholder.call(this,nextPlaceholder).then(()=>{setTimeout(showNextPlaceholder.bind(this),delayAfterWordTyped)})},delayAfterDeleting)})};setTimeout(showNextPlaceholder.bind(this),delayBeforeFirstDelete)}handleInput(){this.input.value.length>0?this.input.classList.add("search__input--dirty"):this.input.classList.remove("search__input--dirty")}handleReset(){this.input.classList.remove("search__input--dirty")}}customElements.define("search-form",SearchForm)}
//# sourceMappingURL=/cdn/shop/t/4/assets/search-form.js.map?v=172508554731921826481693734876
